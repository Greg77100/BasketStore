{% extends 'base.html.twig' %}

{% block h1 %}<h1 class="title">Adresse de livraison & facturation</h1>{% endblock %}

{% block body %}
    <div class="container mt-5">
        {{ form_start(form) }}

        <div class="row">
            <div class="col-md-5">
                <h3>Adresse de livraison</h3>
                <div class="p-3 border rounded bg-light">
                    {{ form_row(form.shipping.fullName) }}
                    {{ form_row(form.shipping.streetAdress) }}
                    {{ form_row(form.shipping.city) }}
                    {{ form_row(form.shipping.postalCode) }}
                    {{ form_row(form.shipping.phone) }}
                </div>
            </div>

            <div class="col-md-2 d-flex justify-content-center align-items-center">
                <div style="border-left: 2px solid #ccc; height: 100%;"></div>
            </div>

            <div class="col-md-5">
                <h3>Adresse de facturation</h3>

                <div class="mb-3">
                    {{ form_row(form.sameAdress) }}
                </div>

                <div id="billing-fields" class="p-3 border rounded bg-light">
                    {{ form_row(form.billing.fullName) }}
                    {{ form_row(form.billing.streetAdress) }}
                    {{ form_row(form.billing.city) }}
                    {{ form_row(form.billing.postalCode) }}
                    
                </div>
            </div>
        </div>

        <div class="mt-4 text-end">
            <button type="submit" class="btn btn-primary">Continuer</button>
        </div>

        {{ form_end(form) }}
    </div>

    <script>
        const checkbox = document.querySelector('#{{ form.sameAdress.vars.id }}');
        const billingFields = document.getElementById('billing-fields');

        function toggleBillingFields() {
            billingFields.style.display = checkbox.checked ? 'none' : 'block';
        }

        checkbox.addEventListener('change', toggleBillingFields);
        document.addEventListener('DOMContentLoaded', toggleBillingFields);
    </script>
{% endblock %}
